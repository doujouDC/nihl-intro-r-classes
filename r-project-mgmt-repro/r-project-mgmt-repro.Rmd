---
title: "Project Management and Reproducibility in RStudio"
author: "Doug Joubert"
date: '2022-07-01'
output:
  word_document: 
    toc: yes
  html_document:
    df_print: paged
bibliography: nihl-r-classes.bib
csl: apa.csl
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction

This one-hour class focuses on data and project management using R and RStudio. RStudio makes it possible to work on a complete research project in a more efficient, integrated, and organized manner. RStudio also connects with Git and Github and learners will have a chance to experiment with this integration and understand its advantages for collaboration and version control. Participants will learn how to create reproducible documents that combine code, analysis, and narrative. This intermediate-level course is designed to be relevant to students from different disciplines. Some familiarity or experience in R and RStudio is recommended but not required. Students are encouraged to install [R](https://mirrors.nics.utk.edu/cran/) and [RStudio](https://www.rstudio.com/products/rstudio/download/#download) before the webinar so that they can follow along with the instructor. Attendees will need to download the class data before the webinar.

Upon completion of this class students should be able to:

-   Discuss best practices for organizing data in an RStudio project
-   Define the term tidy data and its role in reproducibility
-   List the recommendations for tidy data
-   Discuss the importance of using a data dictionary and read me files
-   Ensure that their data is machine readable
-   Create a new R project using a GitHub repository
-   Distinguish between pulling and pushing data from a repository
-   Create an R-markdown document
-   Create a bibliography and link it to a R-markdown document

# Scientific Reproducibility

According to the [U.S. National Science Foundation (NSF)](https://www.nsf.gov/sbe/AC_Materials/SBE_Robust_and_Reliable_Research_Report.pdf) subcommittee on replicability in science (2015):

Science should routinely evaluate the reproducibility of findings that enjoy a prominent role in the published literature. To make reproduction possible, efficient, and informative, researchers should sufficiently document the details of the procedures used to collect data, to convert observations into analyzable data, and to perform data analysis.

Reproducibility refers to the ability of a researcher to duplicate the results of a prior study using the same materials as were used by the original investigator. Reproducibility is a minimum necessary condition for a finding to be considered rigorous, believable and informative.

A 2016 survey in Nature revealed that not being able to reproduce experiments is a problem across all domains of science [Figure 1]:

![](images/baker-01.png){width="6.5in"}

Figure 1: Reproducibility by discipline and problem identified [@RN1683].

![](images/baker-02.png){width="6.5in"}

Figure 2:Attempts to publish reproducible research [@RN1683].

If contributing to science and other researchers seems not to be compelling enough, here are 5 selfish reasons to work reproducibly according to Markowetz (2015):

-   Helps to avoid data loss and disaster

-   Makes it easier to write papers

-   Helps reviewers see it your way

-   Enables continuity of your work

-   Helps to build your reputation

# Using RStudio for your project

RStudio is an integrated development environment (IDE) for R and Python. It includes a console, syntax-highlighting editor that supports direct code execution, as well as tools for plotting, history, debugging, collaboration, and workspace management. It is a powerful tool which supports research by weaving the principles of reproducibility throughout the entire research lifecycle, from data gathering to the statistical analysis, presentation and publication of results.

## Advantages of Using RStudio

-   It is free and open-source
-   It is designed to make it easy to write and reuse code
-   Makes it convenient to view and interact with the objects stored in your environment
-   Makes it easy to set your working directory and access files on your computer
-   Integrates with Collaboration and Publishing Tools
-   Creates documents using R Markdown

# Creating a Project Using Version Control in RStudio

Using version control is a powerful feature to make your research more reproducible and better organized. In order to use versioning while working in RStudio the first step is to make sure your work is set up as an R Project, because you may not use the versioning features in RStudio without one. There are three options for doing this depending on your given scenario:

1.  New Directory - start a brand new R project (with the option of version control).
2.  Existing Directory - add existing work to a R project (with the option of setting up version control).
3.  Version Control Continue an existing R project that already uses version control (i.e. download from GitHub).

We will be using option 3, setting an R project on GitHub and then importing this into RStudio.

## Setting up R for Projects

There are a number of RStudio settings that are recommended. These settings will force RStudio to start "fresh" each time you open RStudio.

This means that RStudio will not remember the code that you ran in your previous session. This forces you to document your work in your code and not in the RStudio workspace [which is temporary].

Figure 3 list the preferred RStudio settings. To change these options go to **Tools\>Global Options\>General.**

![](images/rstudio-preferences.png){width="4.5in"}

Figure 3: Preferred RStudio options.

You might want to also choose UTF-8 as the default text encoding. This setting is available from **Tools\>Global Options\>Code\>Saving**.

## RStudio Projects

An [RStudio Project](https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects) provides a set of tools that allow you to organize your scripts, files, and output: \* Allows you to navigate quickly to your working directory, and it is a great way to keep all your data organized. \* Can preserve custom settings and open files to make it easier to resume work after a break. \* An RStudio project is different from an R session. Meaning that an R session is all the objects and work done in R. Sessions are usually kept in working memory, until you restart R.

## Creating a New Repository in GitHub

[At this link](https://github.com/signup), you may sign into your GitHub account or create one if you have not already.

![](images/git-hub-01.png){width="6.5in"}

Figure 4: My repository homepage in GitHub

I have already created a [repository](https://github.com/doujouDC/nihl-intro-r-series.git) for this class. However Figure 5 is displaying the Create a New Repository screen. [Figure 5].

![](images/git-hub-02.png){width="6.5in"}

Figure 5: Creating a new repository on GitHub.

Once your repository is created, you will need to copy the repository URL before you create the project in RStudio [Figure 6]. Figure 6 shows the 3 different methods for creating a URL: (1) https, (2) SSH, or (3) GitHub CLI.

![](images/git-hub-03.png){width="6.5in"}

Figure 6: Creating a link to a GitHub repository.

The ability to create an SSH key is location under settings [Figure 7].

![](images/git-hub-05.png){width="6.5in"}

Figure 7: Creating SSH keys in GitHub.

Depending on your OS you might also need to create a Personal Access Token that is used to connect RStudio to GitHub, the first time you sync [Figure 8].

![](images/git-hub-04.png){width="6.5in"}

Figure 8: Creating a Personal Access Code in GitHub.

## Creating a New Project in RStudio

1.  Open RStudio
2.  Choose New Project from the Tools Menu.
3.  There are three options when creating a new project: (1) Creating a project in a new directory, (2) Creating a project in an existing directory, and (3) Creating a project using version control.

![](images/new-project-01.png){width="4.5in"}

Figure 9: Creating a new project in RStudio.

4.  Choose the Version Control option
5.  Chose Git as the option, RStudio will automatically open the next screen

![](images/new-project-02.png){width="4.5in"}

Figure 10: Choosing the version control option in RStudio.

6.  This screen is where you enter the repository URL that you copied from GitHub

![](images/new-project-03.png){width="4.5in"}

Figure 11: Using a GitHub repository URL to create a new project

7.  Click **Create Project**. The screen will refresh as RStudio switches over to project view an downloads any data from GitHub

# Good Practices for Managing Projects in RStudio

# Working with R Markdown Files

## Writing and Styling Rmd Documents

## Adding Code-Generated Plots and Figures

## Reproducible & Efficient Methods of Using Code Chunks

## Bibliography, Citations & Cross-Referencing

## Publishing your project

# Licenses

**Licensed under [CC-BY 4.0](https://creativecommons.org/licenses/by/4.0/) 2022 by [the authors](https://carpentries-incubator.github.io/Reproducible-Publications-with-RStudio/CITATION).**
